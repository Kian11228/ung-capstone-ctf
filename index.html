<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>UNG Capstone CTF ‚Äî Operation North Guard (Solo)</title>
  <style>
    :root{
      --ung-blue:#003DA5;   /* UNG navy */
      --ung-gold:#B9975B;   /* UNG gold */
      --hack-green:#00FF9C; /* neon terminal green */
      --ink:#05070d; --ink2:#0a1022; --muted:#90A3C0;
      --card: rgba(0,16,40,0.72); --card-2: rgba(0,24,70,0.55); --border: rgba(5,45,120,0.45);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      color:#e6eaff;
      background: radial-gradient(1200px 600px at 50% -10%, rgba(0,255,156,0.10), transparent 60%),
                 radial-gradient(800px 400px at 90% 120%, rgba(185,151,91,0.10), transparent 60%),
                 linear-gradient(180deg, var(--ink) 0%, #0b1430 60%, #070b16 100%);
      overflow-x:hidden;
    }
    .crt::before{content:""; position:fixed; inset:0; pointer-events:none; background:
      repeating-linear-gradient(to bottom, rgba(0,0,0,0.12) 0px, rgba(0,0,0,0.12) 2px, rgba(0,0,0,0.05) 2px, rgba(0,0,0,0.05) 4px);
      z-index:5}
    .gridlines{position:fixed; inset:0; pointer-events:none; opacity:.30; background-image:
      linear-gradient(rgba(0,61,165,0.20) 1px, transparent 1px),
      linear-gradient(90deg, rgba(0,61,165,0.20) 1px, transparent 1px);
      background-size:34px 34px; filter: drop-shadow(0 0 8px rgba(0,255,156,0.25));
      animation:gridFloat 16s linear infinite}
    @keyframes gridFloat{ from{transform:translateY(0)} to{transform:translateY(-34px)} }

    header{position:sticky; top:0; backdrop-filter:saturate(1.2) blur(6px); background:rgba(0,0,0,.35); border-bottom:1px solid #1f2937; z-index:6}
    .wrap{max-width:1180px; margin:0 auto; padding:16px}
    .brand{display:flex; gap:12px; align-items:center}
    .crest{width:36px; height:36px; display:grid; place-items:center; border-radius:10px; border:1px solid var(--border); background:linear-gradient(135deg, var(--card), var(--card-2)); box-shadow:0 0 12px rgba(0,255,156,0.18)}
    .title{color:var(--hack-green); text-shadow:0 0 6px var(--hack-green), 0 0 16px var(--hack-green); font-weight:700; letter-spacing:.04em}
    .badge{display:inline-block; padding:4px 10px; border-radius:999px; border:1px solid #374151; color:#dbe2ff; font-size:12px}
    .badge.gold{background:var(--ung-gold); color:#000}

    .tabs{display:flex; gap:8px; flex-wrap:wrap}
    .tabbtn{background:#0b1326; color:#cbd5e1; border:1px solid #334155; border-radius:12px; padding:10px 14px; cursor:pointer; transition:all 0.2s}
    .tabbtn:hover{border-color:#4b5563; color:#f1f5f9}
    .tabbtn.active{border-color:var(--ung-gold); color:#fff; box-shadow:0 0 10px rgba(185,151,91,0.35)}

    .card{background:linear-gradient(180deg, var(--card), rgba(0,24,70,0.45)); border:1px solid var(--border); border-radius:16px; padding:16px}
    .card + .card{margin-top:16px}

    .btn{appearance:none; border:1px solid rgba(0,255,156,0.35); background:linear-gradient(180deg, var(--ung-blue), #0a2f7a); color:white; padding:10px 14px; border-radius:12px; cursor:pointer; box-shadow:0 0 12px rgba(0,255,156,0.22); transition:all 0.2s}
    .btn:hover:not(:disabled){box-shadow:0 0 18px rgba(0,255,156,0.35); filter:saturate(1.1); transform:translateY(-1px)}
    .btn:disabled{opacity:0.6; cursor:not-allowed}
    .btn.secondary{background:transparent}
    .btn.secondary:hover{background:rgba(0,255,156,0.1)}
    .btn.danger{background:#7f1d1d; border-color:#ef4444}
    .btn.success{background:#065f46; border-color:#10b981}

    label{font-size:12px; color:#cbd5e1}
    input, textarea{width:100%; background:#0b1326; color:#e6eaff; border:1px solid #334155; border-radius:10px; padding:10px; transition:border-color 0.2s}
    input:focus, textarea:focus{outline:none; border-color:var(--hack-green)}
    textarea{min-height:140px; resize:vertical}

    .muted{color:var(--muted)}
    .row{display:grid; grid-template-columns:1fr; gap:16px}
    @media(min-width:980px){ .row{grid-template-columns:1fr 1fr} }

    table{width:100%; border-collapse:collapse; font-size:14px}
    th, td{border-bottom:1px solid #1f2937; padding:8px 6px; text-align:left}
    .pill{padding:2px 8px; border-radius:999px; background:#0b1326; border:1px solid #374151}
    .pill.solved{background:#065f46; border-color:#10b981; color:#fff}
    .pill.unsolved{background:#7f1d1d; border-color:#ef4444; color:#fff}

    footer{color:#8AA8FF; text-align:center; font-size:12px; margin:36px 0 12px}
    code{background:#0b1326; padding:2px 4px; border-radius:6px; color:var(--hack-green)}
    .hidden{display:none}

    .progress-bar{width:100%; height:8px; background:#1f2937; border-radius:4px; overflow:hidden; margin:8px 0}
    .progress-fill{height:100%; background:linear-gradient(90deg, var(--hack-green), var(--ung-gold)); transition:width 0.5s ease}

    .notification{position:fixed; top:80px; right:20px; z-index:10; background:var(--card); border:1px solid var(--border); border-radius:12px; padding:12px 16px; box-shadow:0 4px 12px rgba(0,0,0,0.3); transform:translateX(400px); transition:transform 0.3s ease}
    .notification.show{transform:translateX(0)}
    .notification.success{border-color:#10b981; background:rgba(5,95,70,0.9)}
    .notification.error{border-color:#ef4444; background:rgba(127,29,29,0.9)}

    .hint-toggle{cursor:pointer; user-select:none; transition:color 0.2s}
    .hint-toggle:hover{color:var(--hack-green)}

    .timer{font-family:monospace; font-size:14px; color:var(--hack-green)}

    @keyframes pulse{0%, 100%{opacity:1} 50%{opacity:0.5}}
    .pulse{animation:pulse 2s infinite}

    .challenge-locked{opacity:0.6; pointer-events:none}
    .challenge-locked::after{content:"üîí Locked"; position:absolute; top:10px; right:10px; background:#7f1d1d; color:#fff; padding:4px 8px; border-radius:6px; font-size:10px}
  </style>
</head>
<body class="crt">
  <div class="gridlines"></div>
  <div id="notification" class="notification"></div>
  
  <header>
    <div class="wrap" style="display:flex; align-items:center; justify-content:space-between; gap:12px;">
      <div class="brand">
        <div class="crest" aria-hidden="true">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
            <path d="M4 4h16v6c0 6.627-5.373 10-8 10S4 16.627 4 10V4z" stroke="var(--ung-gold)" stroke-width="1.5"/>
            <path d="M8 8h8M8 11h8M8 14h5" stroke="var(--hack-green)" stroke-width="1.2"/>
          </svg>
        </div>
        <div>
          <div class="title">UNG Capstone CTF ‚Äî Operation North Guard</div>
          <div class="muted" style="font-size:12px">Solo Mode ‚Ä¢ No teams ‚Ä¢ Individual scoring</div>
        </div>
      </div>
      <div style="display:flex; gap:8px; align-items:center">
        <div class="timer" id="sessionTimer">Session: 00:00:00</div>
        <div id="studentInfo" class="badge" style="background:var(--ung-blue); border-color:var(--hack-green)">
          <span id="studentDisplay">Click to set name</span>
        </div>
        <span id="scoreBadge" class="badge gold">Score: 0</span>
      </div>
    </div>
  </header>

  <main class="wrap">
    <div class="tabs" style="margin-bottom:12px">
      <button class="tabbtn active" data-tab="overview">Overview</button>
      <button class="tabbtn" data-tab="challenges">Challenges</button>
      <button class="tabbtn" data-tab="scoreboard">Scoreboard</button>
      <button class="tabbtn" data-tab="hints">Hints</button>
    </div>

    <!-- OVERVIEW -->
    <section id="tab-overview">
      <div class="card" id="studentSetupCard">
        <h2 class="title" style="margin:0 0 8px">üë§ Student Information</h2>
        <div class="row" style="align-items:end">
          <div>
            <label>Full Name *</label>
            <input id="studentName" placeholder="Enter your full name" style="margin-top:4px" />
          </div>
          <div>
            <label>Student ID (Optional)</label>
            <input id="studentId" placeholder="e.g., 900123456" style="margin-top:4px" />
          </div>
        </div>
        <div style="margin-top:12px">
          <button class="btn" id="saveStudentInfo">üíæ Save Information</button>
          <button class="btn secondary" id="clearStudentInfo" style="margin-left:8px">üóëÔ∏è Clear</button>
        </div>
        <div class="muted" style="font-size:12px; margin-top:8px">
          ‚ÑπÔ∏è Your information is stored locally and included in progress exports
        </div>
      </div>
      
      <div class="card">
        <h2 class="title" style="margin:0 0 8px">üéØ Mission Brief</h2>
        <p class="muted">North Guard Robotics reports suspicious activity. As a solo hybrid red/blue responder, investigate, contain, remediate, and report.</p>
        <div class="progress-bar">
          <div id="overallProgress" class="progress-fill" style="width:0%"></div>
        </div>
        <p class="muted" style="font-size:12px">Progress: <span id="progressText">0/8 challenges completed</span></p>
      </div>
      <div class="row">
        <div class="card">
          <strong>Coverage Areas</strong>
          <ul class="muted">
            <li>Networking & Protocol Analysis</li>
            <li>Cryptography & Cipher Breaking</li>
            <li>Digital Forensics & Incident Response</li>
            <li>Malware Analysis / Reverse Engineering</li>
            <li>Secure Software Development</li>
            <li>Cloud Security & Misconfigurations</li>
            <li>Governance, Risk, Compliance (GRC)</li>
            <li>Penetration Testing / Offensive Security</li>
          </ul>
        </div>
        <div class="card">
          <strong>Competition Format</strong>
          <ul class="muted">
            <li>Individual competition only</li>
            <li>Sequential challenge unlocking</li>
            <li>Points + time bonuses available</li>
            <li>Hints available with point deductions</li>
            <li>Progress saved locally</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- CHALLENGES -->
    <section id="tab-challenges" class="hidden">
      <div class="row">
        <!-- Stage 1: Network / PCAP -->
        <div class="card" id="challenge-net-pcap" style="position:relative">
          <div style="display:flex; align-items:center; justify-content:space-between">
            <div><span class="pill">Networking</span> <strong style="margin-left:8px">Stage 1 ‚Äî PCAP Analysis</strong></div>
            <div class="muted">150 pts ‚Ä¢ <span id="status-net-pcap" class="pill unsolved">Unsolved</span></div>
          </div>
          <p class="muted">Analyze network traffic for DNS tunneling, suspicious FTP uploads, and HTTP C2 beacons. Extract embedded credentials from the communication.</p>
          <div class="muted" style="margin:8px 0; font-size:12px">üí° The flag is hidden within a DNS query payload</div>
          <button class="btn secondary" id="download-pcap">üì¶ Download PCAP Sample</button>
          <div class="card" style="margin-top:8px">
            <label>Submit Flag</label>
            <div style="display:flex; gap:8px; margin-top:6px">
              <input id="flag-net-pcap" placeholder="flag{...}" />
              <button class="btn" data-flag-id="net-pcap">Submit</button>
            </div>
          </div>
        </div>

        <!-- Stage 2: Crypto -->
        <div class="card" id="challenge-crypto" style="position:relative">
          <div style="display:flex; align-items:center; justify-content:space-between">
            <div><span class="pill">Crypto</span> <strong style="margin-left:8px">Stage 2 ‚Äî Cryptographic Challenges</strong></div>
            <div class="muted">200 pts ‚Ä¢ <span id="status-crypto" class="pill unsolved">Unsolved</span></div>
          </div>
          <p class="muted">Multi-stage cryptography: Break weak RSA encryption, decode a substitution cipher, and extract data from PNG steganography.</p>
          <div class="card" style="background:#1a1a2e">
            <div class="muted" style="font-family:monospace; font-size:12px">
              <div>RSA Parameters:</div>
              <div>n = <span id="rsa-n" style="color:var(--hack-green)">116208979629572454889836221838888317862228800858112062077035879938233288902389</span></div>
              <div>e = <span id="rsa-e" style="color:var(--hack-green)">65537</span></div>
              <div>c = <span id="rsa-c" style="color:var(--hack-green)">111285256090978928662438799601358523184684202637866398366939217034899029281640</span></div>
            </div>
          </div>
          <details class="card" style="margin-top:8px">
            <summary class="hint-toggle">üí° Show Cryptographic Hints</summary>
            <div style="margin-top:8px">
              <p class="muted">1. Factor n using small prime techniques (try online factorization tools)</p>
              <p class="muted">2. Compute private key: d ‚â° e‚Åª¬π (mod œÜ(n))</p>
              <p class="muted">3. Decrypt: m = c^d mod n, then convert to ASCII</p>
              <p class="muted">4. The result leads to additional cipher and steganography steps</p>
            </div>
          </details>
          <div class="card" style="margin-top:8px">
            <label>Submit Final Crypto Flag</label>
            <div style="display:flex; gap:8px; margin-top:6px">
              <input id="flag-crypto" placeholder="flag{crypto_broken_successfully}" />
              <button class="btn" data-flag-id="crypto">Submit</button>
            </div>
          </div>
        </div>

        <!-- Stage 3: Disk Forensics -->
        <div class="card" id="challenge-disk" style="position:relative">
          <div style="display:flex; align-items:center; justify-content:space-between">
            <div><span class="pill">Forensics</span> <strong style="margin-left:8px">Stage 3 ‚Äî Disk Image Analysis</strong></div>
            <div class="muted">175 pts ‚Ä¢ <span id="status-disk" class="pill unsolved">Unsolved</span></div>
          </div>
          <p class="muted">Examine an E01 disk image to recover deleted files, analyze browser history, and identify Registry-based persistence mechanisms.</p>
          <div class="muted" style="margin:8px 0; font-size:12px">üîç Use tools like Autopsy, FTK Imager, or similar forensic software</div>
          <button class="btn secondary" id="download-e01">üì¶ Download E01 Image Sample</button>
          <div class="card" style="margin-top:8px">
            <label>Submit Flag</label>
            <div style="display:flex; gap:8px; margin-top:6px">
              <input id="flag-disk" placeholder="flag{...}" />
              <button class="btn" data-flag-id="disk">Submit</button>
            </div>
          </div>
        </div>

        <!-- Stage 4: Memory Forensics -->
        <div class="card" id="challenge-mem" style="position:relative">
          <div style="display:flex; align-items:center; justify-content:space-between">
            <div><span class="pill">Malware</span> <strong style="margin-left:8px">Stage 4 ‚Äî Memory Dump Analysis</strong></div>
            <div class="muted">175 pts ‚Ä¢ <span id="status-mem" class="pill unsolved">Unsolved</span></div>
          </div>
          <p class="muted">Use Volatility framework to detect process injection, extract malware artifacts, and decrypt C2 server configuration.</p>
          <div class="muted" style="margin:8px 0; font-size:12px">‚ö° Recommended: Volatility 3 with appropriate Windows profile</div>
          <button class="btn secondary" id="download-memory">üì¶ Download Memory Dump Sample</button>
          <div class="card" style="margin-top:8px">
            <label>Submit Flag</label>
            <div style="display:flex; gap:8px; margin-top:6px">
              <input id="flag-mem" placeholder="flag{...}" />
              <button class="btn" data-flag-id="mem">Submit</button>
            </div>
          </div>
        </div>

        <!-- Stage 5: Web Application Security -->
        <div class="card" id="challenge-web-sqli" style="position:relative">
          <div style="display:flex; align-items:center; justify-content:space-between">
            <div><span class="pill">AppSec</span> <strong style="margin-left:8px">Stage 5 ‚Äî Web Application Testing</strong></div>
            <div class="muted">150 pts ‚Ä¢ <span id="status-web-sqli" class="pill unsolved">Unsolved</span></div>
          </div>
          <p class="muted">Identify and exploit common web vulnerabilities: SQL injection, XSS, and input validation bypass.</p>
          
          <!-- Interactive SQLi Demo -->
          <div class="card" style="background:#1a1a2e; margin:12px 0">
            <div style="margin-bottom:8px"><strong>üéØ Live Demo: SQL Injection Test</strong></div>
            <div class="row" style="gap:8px">
              <input id="sqliUser" placeholder="Username" />
              <input id="sqliPass" placeholder="Password" type="password" />
            </div>
            <div style="display:flex; gap:8px; margin-top:8px">
              <button class="btn" id="loginBtn">üîê Attempt Login</button>
              <button class="btn secondary" id="clearLogBtn">üóëÔ∏è Clear Log</button>
            </div>
            <textarea id="sqliLog" readonly style="margin-top:8px; font-family:monospace; background:#0a0a1a"></textarea>
          </div>
          
          <div class="muted" style="font-size:12px; margin:8px 0">
            üí° Try classic payloads: <code>' OR '1'='1</code> or <code>admin'--</code>
          </div>
          
          <div class="card" style="margin-top:8px">
            <label>Submit Flag (from successful exploitation)</label>
            <div style="display:flex; gap:8px; margin-top:6px">
              <input id="flag-web-sqli" placeholder="flag{...}" />
              <button class="btn" data-flag-id="web-sqli">Submit</button>
            </div>
          </div>
        </div>

        <!-- Stage 6: Cloud Security -->
        <div class="card" id="challenge-cloud-s3" style="position:relative">
          <div style="display:flex; align-items:center; justify-content:space-between">
            <div><span class="pill">Cloud</span> <strong style="margin-left:8px">Stage 6 ‚Äî Cloud Misconfiguration</strong></div>
            <div class="muted">125 pts ‚Ä¢ <span id="status-cloud-s3" class="pill unsolved">Unsolved</span></div>
          </div>
          <p class="muted">Discover and exploit misconfigured AWS S3 bucket permissions, extract sensitive data, and recommend proper IAM policies.</p>
          <div class="muted" style="margin:8px 0; font-size:12px">‚òÅÔ∏è Focus on: Bucket enumeration, object listing, and data exfiltration</div>
          
          <div class="card" style="background:#1a1a2e">
            <div style="margin-bottom:8px"><strong>üéØ Target Information</strong></div>
            <code style="display:block; margin:4px 0">Bucket: northguard-backup-configs-2024</code>
            <code style="display:block; margin:4px 0">Region: us-east-1</code>
            <code style="display:block; margin:4px 0">Hint: Look for config.json in the root</code>
          </div>
          
          <div class="card" style="margin-top:8px">
            <label>Submit Flag</label>
            <div style="display:flex; gap:8px; margin-top:6px">
              <input id="flag-cloud-s3" placeholder="flag{...}" />
              <button class="btn" data-flag-id="cloud-s3">Submit</button>
            </div>
          </div>
        </div>

        <!-- Stage 7: Red Team VM -->
        <div class="card" id="challenge-red-vm" style="position:relative">
          <div style="display:flex; align-items:center; justify-content:space-between">
            <div><span class="pill">OffSec</span> <strong style="margin-left:8px">Stage 7 ‚Äî Vulnerable System</strong></div>
            <div class="muted">200 pts ‚Ä¢ <span id="status-red-vm" class="pill unsolved">Unsolved</span></div>
          </div>
          <p class="muted">Perform reconnaissance, exploit vulnerable services, escalate privileges, and achieve root access on the target system.</p>
          <div class="muted" style="margin:8px 0; font-size:12px">üéØ Target: 192.168.1.100 (in provided VM environment)</div>
          <button class="btn secondary" id="download-vm">üì¶ Download Vulnerable VM</button>
          
          <div class="card" style="background:#1a1a2e; margin:12px 0">
            <div style="margin-bottom:8px"><strong>üîç Recommended Approach</strong></div>
            <div class="muted" style="font-size:12px">
              1. Port scan with nmap<br>
              2. Service enumeration<br>
              3. Vulnerability research<br>
              4. Exploit development/usage<br>
              5. Privilege escalation<br>
              6. Extract flag from /root/flag.txt
            </div>
          </div>
          
          <div class="card" style="margin-top:8px">
            <label>Submit Flag</label>
            <div style="display:flex; gap:8px; margin-top:6px">
              <input id="flag-red-vm" placeholder="flag{...}" />
              <button class="btn" data-flag-id="red-vm">Submit</button>
            </div>
          </div>
        </div>

        <!-- Stage 8: GRC Executive Summary -->
        <div class="card" id="challenge-grc-nist" style="position:relative">
          <div style="display:flex; align-items:center; justify-content:space-between">
            <div><span class="pill">GRC</span> <strong style="margin-left:8px">Stage 8 ‚Äî Executive Summary</strong></div>
            <div class="muted">100 pts ‚Ä¢ <span id="status-grc-nist" class="pill unsolved">Unsolved</span></div>
          </div>
          <p class="muted">Create a comprehensive executive summary mapping all discovered vulnerabilities to NIST Cybersecurity Framework and ISO 27001 controls.</p>
          
          <div class="card" style="background:#1a1a2e">
            <div style="margin-bottom:8px"><strong>üìã Required Deliverables</strong></div>
            <div class="muted" style="font-size:12px">
              ‚Ä¢ Executive summary (1-2 pages)<br>
              ‚Ä¢ Risk assessment matrix<br>
              ‚Ä¢ NIST CSF mapping<br>
              ‚Ä¢ Remediation timeline<br>
              ‚Ä¢ Business impact analysis
            </div>
          </div>
          
          <div class="card" style="margin-top:8px">
            <label>Submit Flag</label>
            <div style="display:flex; gap:8px; margin-top:6px">
              <input id="flag-grc-nist" placeholder="flag{...}" />
              <button class="btn" data-flag-id="grc-nist">Submit</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- SCOREBOARD -->
    <section id="tab-scoreboard" class="hidden">
      <div class="card">
        <div style="display:flex; align-items:center; justify-content:space-between; margin-bottom:12px">
          <strong>Personal Progress</strong>
          <div style="display:flex; gap:8px">
            <button class="btn secondary" id="exportCsvBtn">üìä Export CSV</button>
            <button class="btn secondary" id="exportJsonBtn">üìã Export JSON</button>
          </div>
        </div>
        <div style="overflow:auto">
          <table>
            <thead>
              <tr>
                <th>Challenge</th>
                <th>Points</th>
                <th>Completed</th>
                <th>Time Bonus</th>
              </tr>
            </thead>
            <tbody id="scoreRows">
              <tr><td colspan="4" class="muted">No challenges completed yet.</td></tr>
            </tbody>
          </table>
        </div>
        <div style="margin-top:16px; padding:12px; background:#1a1a2e; border-radius:8px">
          <div><strong>Session Statistics</strong></div>
          <div class="muted" style="margin-top:4px">
            Student: <span id="scoreboardStudentName">Not set</span><br>
            Student ID: <span id="scoreboardStudentId">Not provided</span><br>
            Total Score: <span id="totalScore">0</span> points<br>
            Challenges Solved: <span id="challengesSolved">0</span>/8<br>
            Session Time: <span id="sessionTime">00:00:00</span><br>
            Average Time per Challenge: <span id="avgTime">--:--</span>
          </div>
        </div>
      </div>
    </section>

    <!-- HINTS -->
    <section id="tab-hints" class="hidden">
      <div class="card">
        <h2 style="margin:0 0 12px">üí° Challenge Hints</h2>
        <p class="muted">Hints are available for each challenge. Using a hint will deduct 10-25 points from the challenge value.</p>
      </div>
      
      <div id="hintsContainer">
        <!-- Dynamic hints will be populated here -->
      </div>
    </section>

    <footer>
      <div style="margin-bottom:8px">Built for UNG Cybers
